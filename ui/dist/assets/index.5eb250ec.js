var L=(t,o)=>()=>(o||t((o={exports:{}}).exports,o),o.exports);var ae=L((ue,A)=>{(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function a(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerpolicy&&(s.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?s.credentials="include":n.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(n){if(n.ep)return;n.ep=!0;const s=a(n);fetch(n.href,s)}})();function j(){}function P(t){return t()}function O(){return Object.create(null)}function x(t){t.forEach(P)}function V(t){return typeof t=="function"}function B(t,o){return t!=t?o==o:t!==o||t&&typeof t=="object"||typeof t=="function"}function F(t){return Object.keys(t).length===0}function _(t,o){t.appendChild(o)}function G(t,o,a){t.insertBefore(o,a||null)}function q(t){t.parentNode.removeChild(t)}function b(t){return document.createElement(t)}function N(t){return document.createTextNode(t)}function D(){return N(" ")}function I(t,o,a,i){return t.addEventListener(o,a,i),()=>t.removeEventListener(o,a,i)}function p(t,o,a){a==null?t.removeAttribute(o):t.getAttribute(o)!==a&&t.setAttribute(o,a)}function M(t){return Array.from(t.childNodes)}function H(t,o){o=""+o,t.wholeText!==o&&(t.data=o)}let C;function v(t){C=t}const w=[],S=[],T=[],$=[],J=Promise.resolve();let U=!1;function Y(){U||(U=!0,J.then(W))}function R(t){T.push(t)}const k=new Set;let E=0;function W(){const t=C;do{for(;E<w.length;){const o=w[E];E++,v(o),z(o.$$)}for(v(null),w.length=0,E=0;S.length;)S.pop()();for(let o=0;o<T.length;o+=1){const a=T[o];k.has(a)||(k.add(a),a())}T.length=0}while(w.length);for(;$.length;)$.pop()();U=!1,k.clear(),v(t)}function z(t){if(t.fragment!==null){t.update(),x(t.before_update);const o=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,o),t.after_update.forEach(R)}}const K=new Set;function X(t,o){t&&t.i&&(K.delete(t),t.i(o))}function Q(t,o,a,i){const{fragment:n,on_mount:s,on_destroy:l,after_update:h}=t.$$;n&&n.m(o,a),i||R(()=>{const m=s.map(P).filter(V);l?l.push(...m):x(m),t.$$.on_mount=[]}),h.forEach(R)}function Z(t,o){const a=t.$$;a.fragment!==null&&(x(a.on_destroy),a.fragment&&a.fragment.d(o),a.on_destroy=a.fragment=null,a.ctx=[])}function ee(t,o){t.$$.dirty[0]===-1&&(w.push(t),Y(),t.$$.dirty.fill(0)),t.$$.dirty[o/31|0]|=1<<o%31}function te(t,o,a,i,n,s,l,h=[-1]){const m=C;v(t);const u=t.$$={fragment:null,ctx:null,props:s,update:j,not_equal:n,bound:O(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(o.context||(m?m.$$.context:[])),callbacks:O(),dirty:h,skip_bound:!1,root:o.target||m.$$.root};l&&l(u.root);let g=!1;if(u.ctx=a?a(t,o.props||{},(e,r,...c)=>{const f=c.length?c[0]:r;return u.ctx&&n(u.ctx[e],u.ctx[e]=f)&&(!u.skip_bound&&u.bound[e]&&u.bound[e](f),g&&ee(t,e)),r}):[],u.update(),g=!0,x(u.before_update),u.fragment=i?i(u.ctx):!1,o.target){if(o.hydrate){const e=M(o.target);u.fragment&&u.fragment.l(e),e.forEach(q)}else u.fragment&&u.fragment.c();o.intro&&X(t.$$.fragment),Q(t,o.target,o.anchor,o.customElement),W()}v(m)}class ne{$destroy(){Z(this,1),this.$destroy=j}$on(o,a){const i=this.$$.callbacks[o]||(this.$$.callbacks[o]=[]);return i.push(a),()=>{const n=i.indexOf(a);n!==-1&&i.splice(n,1)}}$set(o){this.$$set&&!F(o)&&(this.$$.skip_bound=!0,this.$$set(o),this.$$.skip_bound=!1)}}const se=async(t={},o)=>{let a;if(o.startsWith("data:")){const i=o.replace(/^data:.*?base64,/,"");let n;if(typeof Buffer=="function"&&typeof Buffer.from=="function")n=Buffer.from(i,"base64");else if(typeof atob=="function"){const s=atob(i);n=new Uint8Array(s.length);for(let l=0;l<s.length;l++)n[l]=s.charCodeAt(l)}else throw new Error("Failed to decode base64-encoded data URL, Buffer and atob are not supported");a=await WebAssembly.instantiate(n,t)}else{const i=await fetch(o),n=i.headers.get("Content-Type")||"";if("instantiateStreaming"in WebAssembly&&n.startsWith("application/wasm"))a=await WebAssembly.instantiateStreaming(i,t);else{const s=await i.arrayBuffer();a=await WebAssembly.instantiate(s,t)}}return a.instance},re=t=>se(t,"/go-template-live-preview/assets/example.6d8dc03c.wasm?init");(()=>{if(!(typeof global<"u"))if(typeof window<"u")window.global=window;else if(typeof self<"u")self.global=self;else throw new Error("cannot export Go (neither global, window nor self is defined)");if(!global.require&&typeof require<"u"&&(global.require=require),!global.fs&&global.require){const i=require("fs");typeof i=="object"&&i!==null&&Object.keys(i).length!==0&&(global.fs=i)}const t=()=>{const i=new Error("not implemented");return i.code="ENOSYS",i};if(!global.fs){let i="";global.fs={constants:{O_WRONLY:-1,O_RDWR:-1,O_CREAT:-1,O_TRUNC:-1,O_APPEND:-1,O_EXCL:-1},writeSync(n,s){i+=a.decode(s);const l=i.lastIndexOf(`
`);return l!=-1&&(console.log(i.substr(0,l)),i=i.substr(l+1)),s.length},write(n,s,l,h,m,u){if(l!==0||h!==s.length||m!==null){u(t());return}const g=this.writeSync(n,s);u(null,g)},chmod(n,s,l){l(t())},chown(n,s,l,h){h(t())},close(n,s){s(t())},fchmod(n,s,l){l(t())},fchown(n,s,l,h){h(t())},fstat(n,s){s(t())},fsync(n,s){s(null)},ftruncate(n,s,l){l(t())},lchown(n,s,l,h){h(t())},link(n,s,l){l(t())},lstat(n,s){s(t())},mkdir(n,s,l){l(t())},open(n,s,l,h){h(t())},read(n,s,l,h,m,u){u(t())},readdir(n,s){s(t())},readlink(n,s){s(t())},rename(n,s,l){l(t())},rmdir(n,s){s(t())},stat(n,s){s(t())},symlink(n,s,l){l(t())},truncate(n,s,l){l(t())},unlink(n,s){s(t())},utimes(n,s,l,h){h(t())}}}if(global.process||(global.process={getuid(){return-1},getgid(){return-1},geteuid(){return-1},getegid(){return-1},getgroups(){throw t()},pid:-1,ppid:-1,umask(){throw t()},cwd(){throw t()},chdir(){throw t()}}),!global.crypto&&global.require){const i=require("crypto");global.crypto={getRandomValues(n){i.randomFillSync(n)}}}if(!global.crypto)throw new Error("global.crypto is not available, polyfill required (getRandomValues only)");if(global.performance||(global.performance={now(){const[i,n]=process.hrtime();return i*1e3+n/1e6}}),!global.TextEncoder&&global.require&&(global.TextEncoder=require("util").TextEncoder),!global.TextEncoder)throw new Error("global.TextEncoder is not available, polyfill required");if(!global.TextDecoder&&global.require&&(global.TextDecoder=require("util").TextDecoder),!global.TextDecoder)throw new Error("global.TextDecoder is not available, polyfill required");const o=new TextEncoder("utf-8"),a=new TextDecoder("utf-8");if(global.Go=class{constructor(){this.argv=["js"],this.env={},this.exit=e=>{e!==0&&console.warn("exit code:",e)},this._exitPromise=new Promise(e=>{this._resolveExitPromise=e}),this._pendingEvent=null,this._scheduledTimeouts=new Map,this._nextCallbackTimeoutID=1;const i=(e,r)=>{this.mem.setUint32(e+0,r,!0),this.mem.setUint32(e+4,Math.floor(r/4294967296),!0)},n=e=>{const r=this.mem.getUint32(e+0,!0),c=this.mem.getInt32(e+4,!0);return r+c*4294967296},s=e=>{const r=this.mem.getFloat64(e,!0);if(r===0)return;if(!isNaN(r))return r;const c=this.mem.getUint32(e,!0);return this._values[c]},l=(e,r)=>{if(typeof r=="number"&&r!==0){if(isNaN(r)){this.mem.setUint32(e+4,2146959360,!0),this.mem.setUint32(e,0,!0);return}this.mem.setFloat64(e,r,!0);return}if(r===void 0){this.mem.setFloat64(e,0,!0);return}let f=this._ids.get(r);f===void 0&&(f=this._idPool.pop(),f===void 0&&(f=this._values.length),this._values[f]=r,this._goRefCounts[f]=0,this._ids.set(r,f)),this._goRefCounts[f]++;let d=0;switch(typeof r){case"object":r!==null&&(d=1);break;case"string":d=2;break;case"symbol":d=3;break;case"function":d=4;break}this.mem.setUint32(e+4,2146959360|d,!0),this.mem.setUint32(e,f,!0)},h=e=>{const r=n(e+0),c=n(e+8);return new Uint8Array(this._inst.exports.mem.buffer,r,c)},m=e=>{const r=n(e+0),c=n(e+8),f=new Array(c);for(let d=0;d<c;d++)f[d]=s(r+d*8);return f},u=e=>{const r=n(e+0),c=n(e+8);return a.decode(new DataView(this._inst.exports.mem.buffer,r,c))},g=Date.now()-performance.now();this.importObject={go:{"runtime.wasmExit":e=>{e>>>=0;const r=this.mem.getInt32(e+8,!0);this.exited=!0,delete this._inst,delete this._values,delete this._goRefCounts,delete this._ids,delete this._idPool,this.exit(r)},"runtime.wasmWrite":e=>{e>>>=0;const r=n(e+8),c=n(e+16),f=this.mem.getInt32(e+24,!0);fs.writeSync(r,new Uint8Array(this._inst.exports.mem.buffer,c,f))},"runtime.resetMemoryDataView":e=>{this.mem=new DataView(this._inst.exports.mem.buffer)},"runtime.nanotime1":e=>{e>>>=0,i(e+8,(g+performance.now())*1e6)},"runtime.walltime":e=>{e>>>=0;const r=new Date().getTime();i(e+8,r/1e3),this.mem.setInt32(e+16,r%1e3*1e6,!0)},"runtime.scheduleTimeoutEvent":e=>{e>>>=0;const r=this._nextCallbackTimeoutID;this._nextCallbackTimeoutID++,this._scheduledTimeouts.set(r,setTimeout(()=>{for(this._resume();this._scheduledTimeouts.has(r);)console.warn("scheduleTimeoutEvent: missed timeout event"),this._resume()},n(e+8)+1)),this.mem.setInt32(e+16,r,!0)},"runtime.clearTimeoutEvent":e=>{e>>>=0;const r=this.mem.getInt32(e+8,!0);clearTimeout(this._scheduledTimeouts.get(r)),this._scheduledTimeouts.delete(r)},"runtime.getRandomData":e=>{e>>>=0,crypto.getRandomValues(h(e+8))},"syscall/js.finalizeRef":e=>{e>>>=0;const r=this.mem.getUint32(e+8,!0);if(this._goRefCounts[r]--,this._goRefCounts[r]===0){const c=this._values[r];this._values[r]=null,this._ids.delete(c),this._idPool.push(r)}},"syscall/js.stringVal":e=>{e>>>=0,l(e+24,u(e+8))},"syscall/js.valueGet":e=>{e>>>=0;const r=Reflect.get(s(e+8),u(e+16));e=this._inst.exports.getsp()>>>0,l(e+32,r)},"syscall/js.valueSet":e=>{e>>>=0,Reflect.set(s(e+8),u(e+16),s(e+32))},"syscall/js.valueDelete":e=>{e>>>=0,Reflect.deleteProperty(s(e+8),u(e+16))},"syscall/js.valueIndex":e=>{e>>>=0,l(e+24,Reflect.get(s(e+8),n(e+16)))},"syscall/js.valueSetIndex":e=>{e>>>=0,Reflect.set(s(e+8),n(e+16),s(e+24))},"syscall/js.valueCall":e=>{e>>>=0;try{const r=s(e+8),c=Reflect.get(r,u(e+16)),f=m(e+32),d=Reflect.apply(c,r,f);e=this._inst.exports.getsp()>>>0,l(e+56,d),this.mem.setUint8(e+64,1)}catch(r){e=this._inst.exports.getsp()>>>0,l(e+56,r),this.mem.setUint8(e+64,0)}},"syscall/js.valueInvoke":e=>{e>>>=0;try{const r=s(e+8),c=m(e+16),f=Reflect.apply(r,void 0,c);e=this._inst.exports.getsp()>>>0,l(e+40,f),this.mem.setUint8(e+48,1)}catch(r){e=this._inst.exports.getsp()>>>0,l(e+40,r),this.mem.setUint8(e+48,0)}},"syscall/js.valueNew":e=>{e>>>=0;try{const r=s(e+8),c=m(e+16),f=Reflect.construct(r,c);e=this._inst.exports.getsp()>>>0,l(e+40,f),this.mem.setUint8(e+48,1)}catch(r){e=this._inst.exports.getsp()>>>0,l(e+40,r),this.mem.setUint8(e+48,0)}},"syscall/js.valueLength":e=>{e>>>=0,i(e+16,parseInt(s(e+8).length))},"syscall/js.valuePrepareString":e=>{e>>>=0;const r=o.encode(String(s(e+8)));l(e+16,r),i(e+24,r.length)},"syscall/js.valueLoadString":e=>{e>>>=0;const r=s(e+8);h(e+16).set(r)},"syscall/js.valueInstanceOf":e=>{e>>>=0,this.mem.setUint8(e+24,s(e+8)instanceof s(e+16)?1:0)},"syscall/js.copyBytesToGo":e=>{e>>>=0;const r=h(e+8),c=s(e+32);if(!(c instanceof Uint8Array||c instanceof Uint8ClampedArray)){this.mem.setUint8(e+48,0);return}const f=c.subarray(0,r.length);r.set(f),i(e+40,f.length),this.mem.setUint8(e+48,1)},"syscall/js.copyBytesToJS":e=>{e>>>=0;const r=s(e+8),c=h(e+16);if(!(r instanceof Uint8Array||r instanceof Uint8ClampedArray)){this.mem.setUint8(e+48,0);return}const f=c.subarray(0,r.length);r.set(f),i(e+40,f.length),this.mem.setUint8(e+48,1)},debug:e=>{console.log(e)}}}}async run(i){if(!(i instanceof WebAssembly.Instance))throw new Error("Go.run: WebAssembly.Instance expected");this._inst=i,this.mem=new DataView(this._inst.exports.mem.buffer),this._values=[NaN,0,null,!0,!1,global,this],this._goRefCounts=new Array(this._values.length).fill(1/0),this._ids=new Map([[0,1],[null,2],[!0,3],[!1,4],[global,5],[this,6]]),this._idPool=[],this.exited=!1;let n=4096;const s=e=>{const r=n,c=o.encode(e+"\0");return new Uint8Array(this.mem.buffer,n,c.length).set(c),n+=c.length,n%8!==0&&(n+=8-n%8),r},l=this.argv.length,h=[];this.argv.forEach(e=>{h.push(s(e))}),h.push(0),Object.keys(this.env).sort().forEach(e=>{h.push(s(`${e}=${this.env[e]}`))}),h.push(0);const u=n;h.forEach(e=>{this.mem.setUint32(n,e,!0),this.mem.setUint32(n+4,0,!0),n+=8});const g=4096+8192;if(n>=g)throw new Error("total length of command line and environment variables exceeds limit");this._inst.exports.run(l,u),this.exited&&this._resolveExitPromise(),await this._exitPromise}_resume(){if(this.exited)throw new Error("Go program has already exited");this._inst.exports.resume(),this.exited&&this._resolveExitPromise()}_makeFuncWrapper(i){const n=this;return function(){const s={id:i,this:this,args:arguments};return n._pendingEvent=s,n._resume(),s.result}}},typeof A<"u"&&global.require&&global.require.main===A&&global.process&&global.process.versions&&!global.process.versions.electron){process.argv.length<3&&(console.error("usage: go_js_wasm_exec [wasm binary] [arguments]"),process.exit(1));const i=new Go;i.argv=process.argv.slice(2),i.env=Object.assign({TMPDIR:require("os").tmpdir()},process.env),i.exit=process.exit,WebAssembly.instantiate(fs.readFileSync(process.argv[2]),i.importObject).then(n=>(process.on("exit",s=>{s===0&&!i.exited&&(i._pendingEvent={id:0},i._resume())}),i.run(n.instance))).catch(n=>{console.error(n),process.exit(1)})}})();function oe(t){let o,a,i,n,s,l,h,m,u,g=(t[3]||t[2]||t[4])+"",e,r,c,f;return{c(){o=b("main"),a=b("section"),i=b("textarea"),s=D(),l=b("textarea"),m=D(),u=b("p"),e=N(g),p(i,"id","template"),p(i,"placeholder","template"),p(i,"class",n=t[2]&&"error"),i.value=t[0],p(l,"id","json"),p(l,"class",h=t[3]&&"error"),p(l,"placeholder","json"),l.value=t[1],p(a,"class","inputs"),p(u,"class",r=(t[3]||t[2])&&"error")},m(d,y){G(d,o,y),_(o,a),_(a,i),_(a,s),_(a,l),_(o,m),_(o,u),_(u,e),c||(f=[I(i,"keyup",t[5]),I(l,"keyup",t[6])],c=!0)},p(d,[y]){y&4&&n!==(n=d[2]&&"error")&&p(i,"class",n),y&1&&(i.value=d[0]),y&8&&h!==(h=d[3]&&"error")&&p(l,"class",h),y&2&&(l.value=d[1]),y&28&&g!==(g=(d[3]||d[2]||d[4])+"")&&H(e,g),y&12&&r!==(r=(d[3]||d[2])&&"error")&&p(u,"class",r)},i:j,o:j,d(d){d&&q(o),c=!1,x(f)}}}function ie(t,o,a){const i=new globalThis.Go;re(i.importObject).then(r=>i.run(r));let n="Hi {{ .where }}",s='{"where": "there \u{1F423}"}',l=null,h=null,m="Hi there \u{1F423}";const u=async r=>{a(0,n=r.target.value.trim()),await e()},g=async r=>{a(1,s=r.target.value.trim()),await e()},e=async r=>{const c=await globalThis.parse(n,s),{templateError:f,jsonError:d,parsed:y}=c;console.log(f,d,y),a(2,l=f===""?null:f),a(3,h=d===""?null:d),a(4,m=y)};return[n,s,l,h,m,u,g]}class le extends ne{constructor(o){super(),te(this,o,ie,oe,B,{})}}new le({target:document.getElementById("app")})});export default ae();
